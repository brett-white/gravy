!function(){function e(){P.value>0?(P.className="valid",V.className="is-closed",a()):(P.className="invalid",P.value=0)}function a(){localStorage.clear(),localStorage.storedRate=K.value,localStorage.storedRatio1=X.value,localStorage.storedRatio2=Y.value,localStorage.storedRatio3=Z.value,localStorage.storedRatio4=$.value,localStorage.storedRatio5=_.value,localStorage.storedTimeType=Q.selectedIndex,localStorage.storedWorkDay=A.selectedIndex,localStorage.storedWorkWeek=G.selectedIndex,j.classList.contains("is-closed")&&(localStorage.helpClosed=!0),E=Math.ceil(K.value/100*X.value),h=Math.ceil(K.value/100*Y.value),y=Math.ceil(K.value/100*Z.value),L=Math.ceil(K.value/100*$.value),k=Math.ceil(K.value/100*_.value),ae.value=E,te.value=h,le.value=y,ce.value=L,ne.value=k,document.getElementById("star5Val").innerHTML=k,document.getElementById("star4Val").innerHTML=L,document.getElementById("star3Val").innerHTML=y,document.getElementById("star2Val").innerHTML=h,document.getElementById("star1Val").innerHTML=E}function t(){"weeks"===Q.value?I=G.value*A.value:"days"===Q.value?I=A.value:"hours"===Q.value&&(I="1"),localStorage.storedTimeType=Q.selectedIndex}function l(){t(),J.value=Math.ceil(O.value*I*f),""===J.value&&(J.value=0)}function c(){J.value=0,N=0,J.classList.remove("invalid")}function n(){t();var e,a,l;S=Math.floor(O.value*I),B=Math.floor(S/A.value),M=Math.floor(B/G.value),R=Math.floor(B-M*G.value),w=Math.floor(S-B*A.value),e=0===M||M>1?" weeks":" week",a=0===R||R>1?" days":" day",l=0===w||w>1?" hours":" hour",S>=1?U.innerHTML=M+" "+e+" : "+R+" "+a+" : "+w+" "+l:U.innerHTML=""}function s(){O.value>0&&("hours"===x&&"days"===Q.value?(T=p/A.value,O.value=T.toFixed(2)):"hours"===x&&"weeks"===Q.value?(T=p/A.value/G.value,O.value=T.toFixed(2)):"days"===x&&"hours"===Q.value?(T=p*A.value,O.value=Math.floor(T)):"days"===x&&"weeks"===Q.value?(T=p/G.value,O.value=T.toFixed(2)):"weeks"===x&&"days"===Q.value?(T=p*G.value,O.value=T.toFixed(2)):"weeks"===x&&"hours"===Q.value&&(T=p*A.value*G.value,O.value=Math.floor(T))),p=O.value,x=Q.value,t()}function o(){t(),O.value=Math.round(J.value/f*I),n(),""===O.value&&(O.value=0)}function d(){O.value=0,S=0,I=1,U.innerHTML="",O.classList.remove("invalid")}function u(){ae.checked&&(f=E,ee.className="isRated",ae.className="valid",te.className="",le.className="",ce.className="",ne.className=""),te.checked&&(f=h,ee.className="isRated",ae.className="valid",te.className="valid",le.className="",ce.className="",ne.className=""),le.checked&&(f=y,ee.className="isRated",ae.className="valid",te.className="valid",le.className="valid",ce.className="",ne.className=""),ce.checked&&(f=L,ee.className="isRated",ae.className="valid",te.className="valid",le.className="valid",ce.className="valid",ne.className=""),ne.checked&&(f=k,ee.className="isRated",ae.className="valid",te.className="valid",le.className="valid",ce.className="valid",ne.className="valid")}function i(){ee.className="",ae.className="",te.className="",le.className="",ce.className="",ne.className="",ae.checked=!1,te.checked=!1,le.checked=!1,ce.checked=!1,ne.checked=!1}function v(){n(),f=Math.round(J.value/S),i(),f>=E&&h>f?ae.checked=!0:f>=h&&y>f?te.checked=!0:f>=y&&L>f?le.checked=!0:f>=L&&k>f?ce.checked=!0:f>=k&&(ne.checked=!0),u()}function r(){f=0,i()}function m(){c(),d(),r()}function g(){e(),u(),l()}var f,E,h,y,L,k,N,I,S,B,M,R,w,p,x,T,q,b=document.getElementById("logo"),D=document.getElementById("settings"),W=document.getElementById("settingsIcon"),H=document.getElementById("save"),C=document.getElementById("overlay"),V=document.getElementById("welcome"),F=document.getElementById("go"),P=document.getElementById("setRate"),K=document.getElementById("hourlyRate"),j=document.getElementById("helpPanel"),z=document.getElementById("gotIt"),A=document.getElementById("workDay"),G=document.getElementById("workWeek"),J=document.getElementById("cost"),O=document.getElementById("time"),Q=document.getElementById("timeType"),U=document.querySelector(".times"),X=document.getElementById("ratio1"),Y=document.getElementById("ratio2"),Z=document.getElementById("ratio3"),$=document.getElementById("ratio4"),_=document.getElementById("ratio5"),ee=document.getElementById("stars"),ae=document.getElementById("star1"),te=document.getElementById("star2"),le=document.getElementById("star3"),ce=document.getElementById("star4"),ne=document.getElementById("star5"),se=document.getElementById("clearBtn"),oe=document.getElementById("calcBtn");J.value=0,O.value=0,f=0,p=O.value,window.addEventListener("load",function(){window.scrollTo(0,0),document.body.classList.remove("loading")}),function(){localStorage.storedRate?(P.value=localStorage.storedRate,K.value=P.value,V.className="",D.className="",C.className="",X.value=localStorage.storedRatio1,Y.value=localStorage.storedRatio2,Z.value=localStorage.storedRatio3,$.value=localStorage.storedRatio4,_.value=localStorage.storedRatio5,Q.selectedIndex=localStorage.storedTimeType,Q.value=Q[Q.selectedIndex].value,x=Q.value,A.selectedIndex=localStorage.storedWorkDay,G.selectedIndex=localStorage.storedWorkWeek,localStorage.helpClosed?j.classList.add("is-closed"):j.classList.remove("is-closed"),a()):(V.className="first-time",D.className="is-open",C.className="is-visible",P.value=0,Q.selectedIndex=0,Q.value="hours",x=Q.value,A.selectedIndex=7,G.selectedIndex=4)}(),document.querySelector("#costLabel").addEventListener("click",function(){J.select()}),document.querySelector("#costIcon").addEventListener("click",function(){J.select()}),J.addEventListener("focus",function(){J.select()}),J.addEventListener("blur",function(){""===J.value&&(J.value=0)}),J.addEventListener("change",function(){J.value>=E&&O.value>=1&&E>f?v():J.value>=E&&f>=E?(t(),O.value=Math.ceil(J.value/f/I)):J.value>=E&&O.value<1&&E>f?(t(),le.checked=!0,u(),O.value=Math.ceil(J.value/f/I),l()):J.value<=E&&(J.value=E,O.value=1,ae.checked=!0,f=E,u())}),document.querySelector("#timeIcon").addEventListener("click",function(){O.select()}),O.addEventListener("focus",function(){O.select()}),O.addEventListener("blur",function(){""===O.value&&(O.value=0)}),O.addEventListener("change",function(){if(q=Number(S*k),O.value>=1&&f>=E&&k>=f)l();else if(J.value>=E&&O.value>1&&E>f)v();else if(O.value>0&&J.value<E&&E>f){var e=Math.ceil(O.value);O.value=e,n(),J.value=y*S,le.checked=!0,f=y,u()}n()}),Q.addEventListener("change",function(){p=O.value,s()}),ee.addEventListener("change",function(){u(),q=Number(S*k),O.value>=1&&f>=E&&k>=f?l():J.value>=E&&J.value>=q&&f>=E?o():J.value<E&&O.value<1&&(O.value=1,n(),J.value=f*(O.value*I))}),document.querySelector("#welcomeRate").addEventListener("click",function(){P.select()}),P.addEventListener("focus",function(){P.select()}),P.addEventListener("blur",function(){""===P.value&&(P.value=0)}),P.addEventListener("change",function(){K.value=P.value,e(),u(),l()}),F.addEventListener("click",function(){e()}),z.addEventListener("click",function(){localStorage.helpClosed=!0,j.classList.add("is-closed")}),document.querySelector("#helpIcon").addEventListener("click",function(){console.log("HELP CLICKED"),j.classList.contains("is-closed")?j.classList.remove("is-closed"):j.classList.add("is-closed")}),b.addEventListener("click",function(){V.className="is-open"}),document.querySelector("#settingsRate").addEventListener("click",function(){K.select()}),K.addEventListener("focus",function(){K.select()}),K.addEventListener("blur",function(){(""===K.value||K.value<=0)&&(K.value=localStorage.storedRate)}),K.addEventListener("change",function(){P.value=K.value,localStorage.storedRate=K.value,a(),u(),l()}),oe.addEventListener("click",function(e){e.preventDefault()}),se.addEventListener("click",function(e){e.preventDefault(),m()}),P.addEventListener("change",a),document.querySelector("#row1").addEventListener("click",function(){X.select()}),X.addEventListener("change",function(){g()}),document.querySelector("#row2").addEventListener("click",function(){Y.select()}),Y.addEventListener("change",function(){g()}),document.querySelector("#row3").addEventListener("click",function(){Z.select()}),Z.addEventListener("change",function(){g()}),document.querySelector("#row4").addEventListener("click",function(){$.select()}),$.addEventListener("change",function(){g()}),document.querySelector("#row5").addEventListener("click",function(){_.select()}),_.addEventListener("change",function(){g()}),A.addEventListener("change",function(){n(),localStorage.storedWorkDay=A.selectedIndex}),G.addEventListener("change",function(){n(),localStorage.storedWorkWeek=G.selectedIndex}),W.addEventListener("click",function(e){e.preventDefault(),D.classList.contains("is-open")?(D.className="is-closed",C.className="is-hidden"):(D.className="is-open",C.className="is-visible")}),H.addEventListener("click",function(e){e.preventDefault(),D.className="is-closed",C.className="is-hidden"}),C.addEventListener("click",function(e){e.preventDefault(),D.className="is-closed",C.className="is-hidden"})}();